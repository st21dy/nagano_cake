<% provide(:title, "配送先登録/一覧") %>

<br><br>

<center>
    <div>
        <h3><strong>配送先登録/一覧</strong></h3>
        <br>

        <div id="error">
          <%= render "layouts/error_messages", resource: @shipping_address %>
        </div>


            <div class="shipping_addres">
            <%= form_with model: @shipping_address, :url => {:controller => "customer/addresses"}, local: true do |f| %>
                <div class="form-group">
                    <%= f.label :"郵便番号(ハイフンなし)" ,class: "control-label" %>
                    <br>
                    <%= f.text_field :postal_code, class: "form-control-static postal_code" %>
                </div>

                <div class="form-group">
                    <%= f.label :"住所" ,class: "control-label" %>
                    <br>
                    <%= f.text_field :address, class: "form-control-static address" %>
                </div>

                <div class="form-group">
                    <%= f.label :"宛名" ,class: "control-label" %>
                    <br>
                    <%= f.text_field :name, class: "form-control-static name" %>
                </div>
                <%= f.submit '登録する' ,class: "pull-right btn btn-dark " %>
            <% end %>
            </div>


    </div>

<br><br>

    <div>

    <% if @shipping_addresses.present? %>
        <table class="table table-hover table-bordered">
            <thead>
                <tr class="bg-light">
                    <th><center>郵便番号</center></th>
                    <th><center>住所</center></th>
                    <th><center>宛名</center></th>
                    <th></th>
                </tr>
            </thead>

            <tbody>
            <% @shipping_addresses.each do |address| %>
              <tr>
                <td><center><%= address.postal_code %></center></td>
                <td><center><%= address.address %></center></td>
                <td><center><%= address.name %></center></td>
                <td>
                <center>
                    <%= link_to "編集する", edit_customers_address_path(address), class: "glyphicon glyphicon-pencil btn-sm btn-dark" %>
                    <%= link_to "削除する", customers_address_path(address), method: :DELETE, data: {confirm: "本当に削除してもよろしいですか？"}, class: "glyphicon glyphicon-trash btn-sm btn-danger" %>
                </center>
                </td>
              </tr>
            <% end %>
            </tbody>
        </table>
    <% end %>

    </div>
    
    <div class="col-xs-12">
      <%= link_to "戻る", customers_path, class: "glyphicon glyphicon-home btn btn-dark" %>
    </div>
    
</center>

<br><br